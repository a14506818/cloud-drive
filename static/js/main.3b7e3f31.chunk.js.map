{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/auth/CenterDiv.js","components/auth/Signup.js","components/auth/Profile.js","components/auth/Login.js","components/auth/UpdateProfile.js","components/auth/ForgotPassword.js","components/auth/PrivateRoute.js","components/drive/HeaderNav.js","hooks/useFolder.js","components/drive/AddFolderBtn.js","components/drive/AddFileBtn.js","components/drive/FolderBreadcrumbs.js","components/drive/Folder.js","components/drive/File.js","components/drive/Dashboard.js","components/App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","database","folders","collection","files","formatDoc","doc","id","data","getCurrentTimestamp","FieldValue","serverTimestamp","storage","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","CenterDiv","Container","className","style","minHeight","maxWidth","flexDirection","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","e","a","preventDefault","current","push","Card","Body","Alert","variant","Form","onSubmit","Group","Label","Control","type","ref","required","Button","disabled","to","Profile","textAlign","onClick","Login","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","placeholder","ForgotPassword","message","setMessage","PrivateRoute","Component","component","rest","render","props","HeaderNav","Navbar","bg","expand","Brand","as","Link","Nav","ACTIONS","ROOT_FOLDER","name","path","reducer","state","payload","folderId","folder","childFolders","childFiles","AddFolderBtn","currentFolder","open","setOpen","setName","closeModal","size","icon","faFolderPlus","Modal","show","onHide","add","parentId","userId","uid","createAt","onChange","target","Footer","AddFileBtn","uploadingFiles","setUploadingFiles","faFileUpload","file","uuidV4","preUploadingFiles","progress","filePath","map","join","fileRef","console","log","uploadTask","put","on","snapshot","bytesTransferred","totalBytes","uploadFile","getDownloadURL","url","where","get","existingFiles","existingFile","docs","update","filter","opacity","position","left","ReactDOM","createPortal","bottom","right","Toast","onClose","Header","closeButton","ProgressBar","animated","now","label","Math","round","document","body","FolderBreadcrumbs","Breadcrumb","listProps","idx","Item","linkAs","linkProps","pathname","slice","active","Folder","faFolder","File","openCheck","setOpenCheck","tempFileName","setTempFileName","length","split","faImage","faVideo","faFile","href","rel","download","faDownload","faTimes","src","alt","width","controls","autoPlay","muted","faPencilAlt","faTrashAlt","delete","Dashboard","useParams","useLocation","useReducer","dispatch","orderBy","onSnapshot","useFolder","fluid","childFolder","border","color","App","exact","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3b7e3f31.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGE_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n};\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nconst firestore = app.firestore();\r\nexport const database = {\r\n  folders: firestore.collection(\"folders\"),\r\n  files: firestore.collection(\"files\"),\r\n  formatDoc: (doc) => {\r\n    return {\r\n      id: doc.id,\r\n      ...doc.data(),\r\n    };\r\n  },\r\n  getCurrentTimestamp: firebase.firestore.FieldValue.serverTimestamp,\r\n};\r\nexport const storage = app.storage();\r\nexport const auth = app.auth();\r\nexport default app;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { auth } from \"../firebase\";\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  function signup(email, password) {\r\n    return auth.createUserWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut();\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email);\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email);\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      setCurrentUser(user);\r\n      setLoading(false);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const value = {\r\n    currentUser,\r\n    signup,\r\n    login,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nexport default function CenterDiv({ children }) {\r\n  return (\r\n    <Container\r\n      className=\"d-flex align-items-center justify-content-center \"\r\n      style={{\r\n        minHeight: \"100vh\",\r\n        maxWidth: \"500px\",\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n      {children}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport CenterDiv from \"./CenterDiv\";\r\n\r\nexport default function Signup() {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const passwordConfirmRef = useRef();\r\n  const { signup } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Password do not match\");\r\n    }\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await signup(emailRef.current.value, passwordRef.current.value);\r\n      history.push(\"/\");\r\n    } catch {\r\n      setError(\"Failed to create an account\");\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <CenterDiv>\r\n      <Card className=\"w-100\">\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordConfirmRef} required />\r\n            </Form.Group>\r\n            <Button className=\"w-100\" type=\"submit\" disabled={loading}>\r\n              Sign Up\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Already have an account? <Link to=\"/login\">Log In</Link>\r\n      </div>\r\n    </CenterDiv>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Card, Button, Alert } from \"react-bootstrap\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport CenterDiv from \"./CenterDiv\";\r\n\r\nexport default function Profile() {\r\n  const [error, setError] = useState(\"\");\r\n  const { currentUser, logout } = useAuth();\r\n  const history = useHistory();\r\n\r\n  async function handleLogout() {\r\n    setError(\"\");\r\n\r\n    try {\r\n      await logout();\r\n      history.push(\"/login\");\r\n    } catch {\r\n      setError(\"Failed to log out\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CenterDiv>\r\n      <Card>\r\n        <Card.Body style={{ textAlign: \"center\" }}>\r\n          <h2 className=\"text-center mb-4\">Profile</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <strong>Email: </strong> {currentUser.email}\r\n          <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">\r\n            Update Profile\r\n          </Link>\r\n          <Link to=\"/\" className=\"btn btn-secondary w-100 mt-3\">\r\n            Back\r\n          </Link>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        <Button variant=\"link\" onClick={handleLogout}>\r\n          Log Out\r\n        </Button>\r\n      </div>\r\n    </CenterDiv>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport CenterDiv from \"./CenterDiv\";\r\n\r\nexport default function Login() {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const { login } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await login(emailRef.current.value, passwordRef.current.value);\r\n      history.push(\"/\");\r\n    } catch {\r\n      setError(\"Failed to log in\");\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <CenterDiv>\r\n      <Card className=\"w-100\">\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Log In</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Button className=\"w-100\" type=\"submit\" disabled={loading}>\r\n              Log In\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </CenterDiv>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport CenterDiv from \"./CenterDiv\";\r\n\r\nexport default function UpdateProfile() {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const passwordConfirmRef = useRef();\r\n  const { currentUser, updateEmail, updatePassword } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Password do not match\");\r\n    }\r\n\r\n    const promises = [];\r\n    setError(\"\");\r\n    setLoading(true);\r\n    if (emailRef.current.value !== currentUser.email) {\r\n      promises.push(updateEmail(emailRef.current.value));\r\n    }\r\n    if (passwordRef.current.value) {\r\n      promises.push(updatePassword(passwordRef.current.value));\r\n    }\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        history.push(\"/user\");\r\n      })\r\n      .catch(() => {\r\n        setError(\"Failed to update account\");\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <CenterDiv>\r\n      <Card className=\"w-100\">\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Update Profile</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                ref={emailRef}\r\n                required\r\n                defaultValue={currentUser.email}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={passwordRef}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={passwordConfirmRef}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </Form.Group>\r\n            <Button className=\"w-100\" type=\"submit\" disabled={loading}>\r\n              Update\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        <Link to=\"/user\">Cancel</Link>\r\n      </div>\r\n    </CenterDiv>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CenterDiv from \"./CenterDiv\";\r\n\r\nexport default function ForgotPassword() {\r\n  const emailRef = useRef();\r\n  const { resetPassword } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setMessage(\"\");\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await resetPassword(emailRef.current.value);\r\n      setMessage(\"Check your inbox for further instructions\");\r\n    } catch {\r\n      setError(\"Failed to reset password\");\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <CenterDiv>\r\n      <Card className=\"w-100\">\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Password Reset</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          {message && <Alert variant=\"success\">{message}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Button className=\"w-100\" type=\"submit\" disabled={loading}>\r\n              Reset Password\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/login\">Log In</Link>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </CenterDiv>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser } = useAuth();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return currentUser ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        );\r\n      }}\r\n    ></Route>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function HeaderNav() {\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"\">\r\n      <Navbar.Brand as={Link} to=\"/\">\r\n        AppleSheep Drive\r\n      </Navbar.Brand>\r\n      <Nav>\r\n        <Nav.Link as={Link} to=\"/user\">\r\n          Profile\r\n        </Nav.Link>\r\n      </Nav>\r\n    </Navbar>\r\n  );\r\n}\r\n","import { useReducer, useEffect } from \"react\";\r\nimport { database } from \"../firebase\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nconst ACTIONS = {\r\n  SELECT_FOLDER: \"sf\",\r\n  UPDATE_FOLDER: \"uf\",\r\n  SET_CHILD_FOLDERS: \"scfo\",\r\n  SET_CHILD_FILES: \"scfi\",\r\n};\r\n\r\nexport const ROOT_FOLDER = { name: \"Root\", id: null, path: [] };\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case ACTIONS.SELECT_FOLDER:\r\n      return {\r\n        folderId: payload.folderId,\r\n        folder: payload.folder,\r\n        childFolders: [],\r\n        childFiles: [],\r\n      };\r\n    case ACTIONS.UPDATE_FOLDER:\r\n      return {\r\n        ...state,\r\n        folder: payload.folder,\r\n      };\r\n    case ACTIONS.SET_CHILD_FOLDERS:\r\n      return {\r\n        ...state,\r\n        childFolders: payload.childFolders,\r\n      };\r\n    case ACTIONS.SET_CHILD_FILES:\r\n      return {\r\n        ...state,\r\n        childFiles: payload.childFiles,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function useFolder(folderId = null, folder = null) {\r\n  const { currentUser } = useAuth();\r\n\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    folderId,\r\n    folder,\r\n    childFolders: [],\r\n    childFiles: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: ACTIONS.SELECT_FOLDER, payload: { folderId, folder } });\r\n  }, [folderId, folder]);\r\n\r\n  useEffect(() => {\r\n    if (folderId === null) {\r\n      return dispatch({\r\n        type: ACTIONS.UPDATE_FOLDER,\r\n        payload: { folder: ROOT_FOLDER },\r\n      });\r\n    }\r\n    database.folders\r\n      .doc(folderId)\r\n      .get()\r\n      .then((doc) => {\r\n        dispatch({\r\n          type: ACTIONS.UPDATE_FOLDER,\r\n          payload: { folder: database.formatDoc(doc) },\r\n        });\r\n      })\r\n      .catch(() => {\r\n        dispatch({\r\n          type: ACTIONS.UPDATE_FOLDER,\r\n          payload: { folder: ROOT_FOLDER },\r\n        });\r\n      });\r\n  }, [folderId]);\r\n\r\n  useEffect(() => {\r\n    return database.folders\r\n      .where(\"parentId\", \"==\", folderId)\r\n      .where(\"userId\", \"==\", currentUser.uid)\r\n      .orderBy(\"createAt\")\r\n      .onSnapshot((snapshot) => {\r\n        dispatch({\r\n          type: ACTIONS.SET_CHILD_FOLDERS,\r\n          payload: { childFolders: snapshot.docs.map(database.formatDoc) },\r\n        });\r\n      });\r\n  }, [folderId, currentUser]);\r\n\r\n  useEffect(() => {\r\n    return database.files\r\n      .where(\"folderId\", \"==\", folderId)\r\n      .where(\"userId\", \"==\", currentUser.uid)\r\n      .orderBy(\"createAt\")\r\n      .onSnapshot((snapshot) => {\r\n        dispatch({\r\n          type: ACTIONS.SET_CHILD_FILES,\r\n          payload: { childFiles: snapshot.docs.map(database.formatDoc) },\r\n        });\r\n      });\r\n  }, [folderId, currentUser]);\r\n\r\n  return state;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Button, Modal, Form } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFolderPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { database } from \"../../firebase\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\";\r\n\r\nexport default function AddFolderBtn({ currentFolder }) {\r\n  const [open, setOpen] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const { currentUser } = useAuth();\r\n\r\n  function openModal() {\r\n    setOpen(true);\r\n  }\r\n  function closeModal() {\r\n    setOpen(false);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    //handle path\r\n    if (currentFolder === null) return;\r\n    const path = [...currentFolder.path];\r\n    if (currentFolder !== ROOT_FOLDER) {\r\n      path.push({ name: currentFolder.name, id: currentFolder.id });\r\n    }\r\n    //create a folder in database\r\n    database.folders.add({\r\n      name: name,\r\n      parentId: currentFolder.id,\r\n      userId: currentUser.uid,\r\n      path: path,\r\n      createAt: database.getCurrentTimestamp(),\r\n    });\r\n    setName(\"\");\r\n    closeModal();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Button onClick={openModal} variant=\"outline-success\" size=\"sm\">\r\n        <FontAwesomeIcon icon={faFolderPlus} />\r\n      </Button>\r\n      <Modal show={open} onHide={closeModal}>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Modal.Body>\r\n            <Form.Group>\r\n              <Form.Label>Folder Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                required\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={closeModal}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"success\" type=\"submit\">\r\n              Add Folder\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFileUpload } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { storage, database } from \"../../firebase\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\";\r\nimport { v4 as uuidV4 } from \"uuid\";\r\nimport { Toast, ProgressBar } from \"react-bootstrap\";\r\n\r\nexport default function AddFileBtn({ currentFolder }) {\r\n  const [uploadingFiles, setUploadingFiles] = useState([]);\r\n  const { currentUser } = useAuth();\r\n  function handleUpload(e) {\r\n    const file = e.target.files[0];\r\n    if (!currentFolder || !file) return;\r\n\r\n    const id = uuidV4();\r\n    setUploadingFiles((preUploadingFiles) => [\r\n      ...preUploadingFiles,\r\n      { id: id, name: file.name, progress: 0, error: false },\r\n    ]);\r\n\r\n    const filePath =\r\n      currentFolder === ROOT_FOLDER\r\n        ? `/${file.name}`\r\n        : `${currentFolder.path.map((e) => e.name).join(\"/\")}/${\r\n            currentFolder.name\r\n          }/${file.name}`;\r\n    const fileRef = `/files/${currentUser.uid}/${filePath}`;\r\n    console.log(fileRef);\r\n    const uploadTask = storage.ref(fileRef).put(file);\r\n\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {\r\n        const progress = snapshot.bytesTransferred / snapshot.totalBytes;\r\n        setUploadingFiles((preUploadingFiles) => {\r\n          return preUploadingFiles.map((uploadFile) => {\r\n            if (uploadFile.id === id) {\r\n              return { ...uploadFile, progress: progress };\r\n            }\r\n            return uploadFile;\r\n          });\r\n        });\r\n      },\r\n      () => {\r\n        setUploadingFiles((preUploadingFiles) => {\r\n          return preUploadingFiles.map((uploadFile) => {\r\n            if (uploadFile.id === id) {\r\n              return { ...uploadFile, error: true };\r\n            }\r\n            return uploadFile;\r\n          });\r\n        });\r\n      },\r\n      () => {\r\n        uploadTask.snapshot.ref.getDownloadURL().then((url) => {\r\n          console.log(url);\r\n\r\n          database.files\r\n            .where(\"name\", \"==\", file.name)\r\n            .where(\"userId\", \"==\", currentUser.uid)\r\n            .where(\"folderId\", \"==\", currentFolder.id)\r\n            .get()\r\n            .then((existingFiles) => {\r\n              const existingFile = existingFiles.docs[0];\r\n              if (existingFile) {\r\n                existingFile.ref.update({ url: url });\r\n              } else {\r\n                console.log(file);\r\n                console.log(file.ref);\r\n                database.files.add({\r\n                  url: url,\r\n                  type: file.type,\r\n                  name: file.name,\r\n                  createAt: database.getCurrentTimestamp(),\r\n                  folderId: currentFolder.id,\r\n                  userId: currentUser.uid,\r\n                  ref: fileRef,\r\n                });\r\n              }\r\n            });\r\n          //Close Toast\r\n          setUploadingFiles((preUploadingFiles) => {\r\n            return preUploadingFiles.filter(\r\n              (uploadFile) => uploadFile.id !== id\r\n            );\r\n          });\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <label className=\"btn btn-outline-success btn-sm m-0 mr-2\">\r\n        <FontAwesomeIcon icon={faFileUpload} />\r\n        <input\r\n          type=\"file\"\r\n          onChange={handleUpload}\r\n          style={{ opacity: 0, position: \"absolute\", left: \"-99999px\" }}\r\n        ></input>\r\n      </label>\r\n      {uploadingFiles &&\r\n        ReactDOM.createPortal(\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              bottom: \"1rem\",\r\n              right: \"1rem\",\r\n              maxWidth: \"250px\",\r\n            }}\r\n          >\r\n            {uploadingFiles.map((file) => (\r\n              <Toast\r\n                key={file.id}\r\n                onClose={() => {\r\n                  setUploadingFiles((preUploadingFiles) => {\r\n                    return preUploadingFiles.filter((uploadFile) => {\r\n                      return uploadFile.id !== file.id;\r\n                    });\r\n                  });\r\n                }}\r\n              >\r\n                <Toast.Header\r\n                  className=\"text-truncate w-100 d-block\"\r\n                  closeButton={file.error}\r\n                >\r\n                  {file.name}\r\n                </Toast.Header>\r\n                <Toast.Body>\r\n                  <ProgressBar\r\n                    animated={!file.error}\r\n                    variant={file.error ? \"danger\" : \"primary\"}\r\n                    now={file.error ? 100 : file.progress * 100}\r\n                    label={\r\n                      file.error\r\n                        ? \"Error\"\r\n                        : Math.round(file.progress * 100) + \"%\"\r\n                    }\r\n                  />\r\n                </Toast.Body>\r\n              </Toast>\r\n            ))}\r\n          </div>,\r\n          document.body\r\n        )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Breadcrumb } from \"react-bootstrap\";\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function FolderBreadcrumbs({ currentFolder }) {\r\n  let path = currentFolder === ROOT_FOLDER ? [] : [ROOT_FOLDER];\r\n  if (currentFolder) path = [...path, ...currentFolder.path];\r\n  return (\r\n    <Breadcrumb\r\n      className=\"flex-grow-1\"\r\n      listProps={{ className: \"bg-white pl-0 m-0\" }}\r\n    >\r\n      {path.map((folder, idx) => (\r\n        <Breadcrumb.Item\r\n          key={folder.id}\r\n          linkAs={Link}\r\n          linkProps={{\r\n            to: {\r\n              pathname: folder.id ? `/folder/${folder.id}` : \"/\",\r\n              state: { folder: { ...folder, path: path.slice(1, idx) } },\r\n            },\r\n          }}\r\n          className=\"text-truncate d-inline-blok\"\r\n          style={{ maxWidth: \"150px\" }}\r\n        >\r\n          {folder.name}\r\n        </Breadcrumb.Item>\r\n      ))}\r\n      {currentFolder && (\r\n        <Breadcrumb.Item\r\n          className=\"text-truncate d-inline-blok\"\r\n          style={{ maxWidth: \"200px\" }}\r\n          active\r\n        >\r\n          {currentFolder.name}\r\n        </Breadcrumb.Item>\r\n      )}\r\n    </Breadcrumb>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFolder } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nexport default function Folder({ folder }) {\r\n  return (\r\n    <Button\r\n      as={Link}\r\n      to={{ pathname: `/folder/${folder.id}`, state: { folder: folder } }}\r\n      variant=\"outline-dark\"\r\n      className=\"text-truncate w-100\"\r\n    >\r\n      <FontAwesomeIcon icon={faFolder} className=\"mr-2\" />\r\n      {folder.name}\r\n    </Button>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faFile,\r\n  faTimes,\r\n  faDownload,\r\n  faTrashAlt,\r\n  faPencilAlt,\r\n  faVideo,\r\n  faImage,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Modal, Button, Alert } from \"react-bootstrap\";\r\nimport { storage, database } from \"../../firebase\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\n\r\nexport default function File({ file }) {\r\n  const [open, setOpen] = useState(false);\r\n  const [openCheck, setOpenCheck] = useState(false);\r\n  const [tempFileName, setTempFileName] = useState(\"\");\r\n  const { currentUser } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n\r\n  function openModal() {\r\n    setOpen(true);\r\n    setTempFileName(file.name);\r\n  }\r\n  function closeModal() {\r\n    setOpen(false);\r\n    setError(\"\");\r\n    setOpenCheck(false);\r\n  }\r\n\r\n  function deleteFile() {\r\n    console.log(\"Delete : \" + file.name);\r\n    database.files\r\n      .doc(file.id)\r\n      .delete()\r\n      .catch((e) => console.error(e));\r\n    storage\r\n      .ref(file.ref)\r\n      .delete()\r\n      .catch((e) => console.error(e));\r\n  }\r\n  async function renameFile() {\r\n    //check name\r\n    await database.files\r\n      .where(\"name\", \"==\", tempFileName)\r\n      .where(\"userId\", \"==\", currentUser.uid)\r\n      .get()\r\n      .then((existingFiles) => {\r\n        if (existingFiles.docs.length > 0) {\r\n          console.log(\"Name Existed\");\r\n          setError(\"Name Existed\");\r\n        } else {\r\n          //rename\r\n          console.log(\"Rename : \" + file.name + \" To : \" + tempFileName);\r\n          database.files\r\n            .doc(file.id)\r\n            .get()\r\n            .then((existingFile) => {\r\n              existingFile.ref.update({ name: tempFileName });\r\n            })\r\n            .catch((e) => console.error(e));\r\n          closeModal();\r\n        }\r\n      })\r\n      .catch((e) => console.error(e));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={openModal}\r\n        variant=\"outline-dark\"\r\n        size=\"sm\"\r\n        className=\"text-truncate w-100\"\r\n      >\r\n        {file.type.split(\"/\")[0] === \"image\" && (\r\n          <FontAwesomeIcon icon={faImage} className=\"mr-2\" />\r\n        )}\r\n        {file.type.split(\"/\")[0] === \"video\" && (\r\n          <FontAwesomeIcon icon={faVideo} className=\"mr-2\" />\r\n        )}\r\n        {file.type.split(\"/\")[0] !== \"image\" &&\r\n          file.type.split(\"/\")[0] !== \"video\" && (\r\n            <FontAwesomeIcon icon={faFile} className=\"mr-2\" />\r\n          )}\r\n\r\n        {file.name}\r\n      </Button>\r\n      <Modal show={open} onHide={closeModal} size=\"lg\">\r\n        <Modal.Header>\r\n          <a\r\n            href={file.url}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            className=\"btn btn-success\"\r\n            download={file.name}\r\n          >\r\n            <FontAwesomeIcon icon={faDownload} className=\"mr-2\" />\r\n            Download File\r\n          </a>\r\n          <Button variant=\"secondary\" onClick={closeModal}>\r\n            <FontAwesomeIcon icon={faTimes} />\r\n          </Button>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {file.type.split(\"/\")[0] === \"image\" && (\r\n            <img src={file.url} alt=\"img\" width=\"100%\" />\r\n          )}\r\n          {file.type.split(\"/\")[0] === \"video\" && (\r\n            <video controls autoPlay muted width=\"100%\">\r\n              <source src={file.url} type={file.type}></source>\r\n            </video>\r\n          )}\r\n          {file.type.split(\"/\")[0] !== \"image\" &&\r\n            file.type.split(\"/\")[0] !== \"video\" && <div>Can Not Preview</div>}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          {error && (\r\n            <Alert variant=\"danger\" className=\"w-100 text-center\">\r\n              {error}\r\n            </Alert>\r\n          )}\r\n          <div className=\"w-100 d-flex justify-content-between align-items-center flex-wrap\">\r\n            <strong>File Name: </strong>\r\n            <input\r\n              style={{ width: \"65%\" }}\r\n              value={tempFileName}\r\n              onChange={(e) => setTempFileName(e.target.value)}\r\n            />\r\n            <Button variant=\"warning\" onClick={renameFile} size=\"sm\">\r\n              <FontAwesomeIcon icon={faPencilAlt} />\r\n            </Button>\r\n          </div>\r\n          <div className=\"w-100 d-flex justify-content-between align-items-center flex-wrap\">\r\n            <strong>File Type: </strong>\r\n            {file.type}\r\n          </div>\r\n          <div className=\"w-100 d-flex justify-content-end\">\r\n            <Button variant=\"danger\" onClick={() => setOpenCheck(true)}>\r\n              <FontAwesomeIcon icon={faTrashAlt} />\r\n            </Button>\r\n          </div>\r\n          {openCheck && (\r\n            <>\r\n              <Alert\r\n                variant=\"danger\"\r\n                className=\"w-100 d-flex justify-content-end align-items-center\"\r\n              >\r\n                <div style={{ position: \"absolute\", left: \"1rem\" }}>\r\n                  Delete File?\r\n                </div>\r\n                <Button\r\n                  variant=\"primary\"\r\n                  size=\"sm\"\r\n                  className=\"mr-2\"\r\n                  onClick={deleteFile}\r\n                >\r\n                  Confirm\r\n                </Button>\r\n                <Button\r\n                  variant=\"danger\"\r\n                  size=\"sm\"\r\n                  onClick={() => setOpenCheck(false)}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </Alert>\r\n            </>\r\n          )}\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport HeaderNav from \"./HeaderNav\";\r\nimport AddFolderBtn from \"./AddFolderBtn\";\r\nimport AddFileBtn from \"./AddFileBtn\";\r\nimport FolderBreadcrumbs from \"./FolderBreadcrumbs\";\r\nimport Folder from \"./Folder\";\r\nimport File from \"./File\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { useFolder } from \"../../hooks/useFolder\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\n\r\nexport default function Dashboard() {\r\n  const { folderId } = useParams();\r\n  const { state = {} } = useLocation();\r\n  const { folder, childFolders, childFiles } = useFolder(\r\n    folderId,\r\n    state.folder\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <HeaderNav></HeaderNav>\r\n      <Container fluid>\r\n        <div className=\"d-flex align-items-center\">\r\n          <FolderBreadcrumbs currentFolder={folder} />\r\n          <AddFileBtn currentFolder={folder} />\r\n          <AddFolderBtn currentFolder={folder} />\r\n        </div>\r\n        <div>Folders:</div>\r\n        {childFolders && (\r\n          <div className=\"d-flex flex-wrap\">\r\n            {childFolders.map((childFolder) => (\r\n              <div\r\n                key={childFolder.id}\r\n                style={{ maxWidth: \"250px\" }}\r\n                className=\"p-2\"\r\n              >\r\n                <Folder folder={childFolder} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n        <hr style={{ border: \"5px\", color: \"red\" }} />\r\n        <div>Files:</div>\r\n        {childFiles && (\r\n          <div className=\"d-flex flex-wrap\">\r\n            {childFiles.map((childFiles) => (\r\n              <div\r\n                key={childFiles.id}\r\n                style={{ maxWidth: \"250px\" }}\r\n                className=\"p-2\"\r\n              >\r\n                <File file={childFiles} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import Signup from \"./auth/Signup\";\nimport Profile from \"./auth/Profile\";\nimport Login from \"./auth/Login\";\nimport UpdateProfile from \"./auth/UpdateProfile\";\nimport ForgotPassword from \"./auth/ForgotPassword\";\nimport { AuthProvider } from \"../contexts/AuthContext\";\nimport React from \"react\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport PrivateRoute from \"./auth/PrivateRoute\";\nimport Dashboard from \"./drive/Dashboard\";\n\nfunction App() {\n  return (\n    <>\n      <HashRouter>\n        <AuthProvider>\n          <Switch>\n            {/* auth */}\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/forgot-password\" component={ForgotPassword} />\n            {/* profile */}\n            <PrivateRoute path=\"/user\" component={Profile} />\n            <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\n            {/* drive */}\n            <PrivateRoute exact path=\"/\" component={Dashboard} />\n            <PrivateRoute\n              exact\n              path=\"/folder/:folderId\"\n              component={Dashboard}\n            />\n          </Switch>\n        </AuthProvider>\n      </HashRouter>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}